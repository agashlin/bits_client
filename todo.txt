--- In-process ---
Build:
- integration into build tree
- config var
- only build on Windows

Testing:
- tests for commands (many of these should probably be default skip)
- HTTP server for the full effect? (to avoid depending on an external one,
  and to be able to fail controlledly)
  - HTTP proxy?
  - proxy detection?
  - use existing test infra for this

Support crates:
- split out?
- publish?
- signing?
- license?
- wio?

Misc:
- add job enumeration for BackgroundDownloadManager, mostly for cleanup purposes
- probably want to convert all Windows stuff to some kind of wide string type instead of having
  OsStr/OsString everywhere

Priority:
- look into the defaults
  - bits: when and on what connection it should run (metered? maybe different when background
    vs foreground?)

Notify callbacks:
- MTA in Firefox...

--- Later ---
- command line completion when not running
  - this should probably just be a tiny exe
  - should we try to automatically remove/restore this when monitoring?

- cleanup BITS jobs in uninstaller

--- Separate task (for Local Service ownership) ---

Misc:
- carefully considered protocol max sizes
- logging
- validate download directory path
- check whether the task successfully started
- check pid of connecting client
- get rid of catch/unwind stuff around callbacks?
- source URL checking, or am I punting on this?
- tests against protocol max size

Task:
- name scheduled task
- description?
- pass log directory, download directory prefix, install path hash as args
  to task (ondemand command-connect etc). Will need escaping. $(Arg0) at the end.
- pass path to executable as arg to install?
- verify normal user can't modify the job with access we allow
- look into the defaults
  - task: when it should run (battery, idleness)

Testing:
- should be able to install/uninstall without Local Service ownership
